<!DOCTYPE html>
<html lang="zh-CN" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>正在做一个OB主题 | FroQ</title>
    <meta name="description" content="虽然在我认识的人里面用 Obsidian 的寥寥无几，但是还是想记录一下最近在干的事情。">
    <meta name="generator" content="VitePress v1.0.0-rc.39">
    <link rel="preload stylesheet" href="/assets/style.cbbNQhiT.css" as="style">
    
    <script type="module" src="/assets/app.1BkjM71v.js"></script>
    <link rel="modulepreload" href="/assets/chunks/framework.pQTmccFu.js">
    <link rel="modulepreload" href="/assets/chunks/theme.M0HzHRWS.js">
    <link rel="modulepreload" href="/assets/blog_making-obsidian-theme.md.5rl2zwHk.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
    <meta name="keywords" content="Obsidian,主题,CSS">
    <meta name="id" content="230708a">
  </head>
  <body>
    <div id="app"><!--[--><div class="navbar"><div class="navbar-inner"><div class="brand"><h1 class="brand-title"><a href="/"><span>FroQ</span></a></h1></div><div class="buttons"><div class="button"><!--[--><a href="https://fro-q.github.io/feed.rss" class="link" style="display:none;" title="RSS"><div class="icon"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 448 512"><title>RSS</title><path d="M400 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V80c0-26.51-21.49-48-48-48zM112 416c-26.51 0-48-21.49-48-48s21.49-48 48-48s48 21.49 48 48s-21.49 48-48 48zm157.533 0h-34.335c-6.011 0-11.051-4.636-11.442-10.634c-5.214-80.05-69.243-143.92-149.123-149.123c-5.997-.39-10.633-5.431-10.633-11.441v-34.335c0-6.535 5.468-11.777 11.994-11.425c110.546 5.974 198.997 94.536 204.964 204.964c.352 6.526-4.89 11.994-11.425 11.994zm103.027 0h-34.334c-6.161 0-11.175-4.882-11.427-11.038c-5.598-136.535-115.204-246.161-251.76-251.76C68.882 152.949 64 147.935 64 141.774V107.44c0-6.454 5.338-11.664 11.787-11.432c167.83 6.025 302.21 141.191 308.205 308.205c.232 6.449-4.978 11.787-11.432 11.787z" fill="currentColor"></path></svg></div></a><a href="https://github.com/Fro-Q" class="link" style="" title="GitHub"><div class="icon"><svg viewBox='0 0 24 24' display='block' height='1.2em' width='1.2em' xmlns='http://www.w3.org/2000/svg' ><path fill='currentColor' d='M10.07 20.503a1 1 0 0 0-1.18-.983c-1.31.24-2.963.276-3.402-.958a5.708 5.708 0 0 0-1.837-2.415a1.2 1.2 0 0 1-.167-.11a1 1 0 0 0-.93-.645h-.005a1 1 0 0 0-1 .995c-.004.815.81 1.338 1.141 1.514a4.44 4.44 0 0 1 .924 1.36c.365 1.023 1.423 2.576 4.466 2.376l.003.098l.004.268a1 1 0 0 0 2 0l-.005-.318c-.005-.19-.012-.464-.012-1.182M20.737 5.377a5.39 5.39 0 0 0 .09-.42a6.278 6.278 0 0 0-.408-3.293a1.002 1.002 0 0 0-.615-.58c-.356-.12-1.67-.357-4.184 1.25a13.87 13.87 0 0 0-6.354 0C6.762.75 5.455.966 5.102 1.079a.997.997 0 0 0-.631.584a6.3 6.3 0 0 0-.404 3.357c.025.127.051.246.079.354a6.27 6.27 0 0 0-1.256 3.83a8.422 8.422 0 0 0 .043.921c.334 4.603 3.334 5.984 5.424 6.459a4.591 4.591 0 0 0-.118.4a1 1 0 0 0 1.942.479a1.678 1.678 0 0 1 .468-.878a1 1 0 0 0-.546-1.745c-3.454-.395-4.954-1.802-5.18-4.899a6.61 6.61 0 0 1-.033-.738a4.258 4.258 0 0 1 .92-2.713a3.022 3.022 0 0 1 .195-.231a1 1 0 0 0 .188-1.025a3.388 3.388 0 0 1-.155-.555a4.094 4.094 0 0 1 .079-1.616a7.543 7.543 0 0 1 2.415 1.18a1.009 1.009 0 0 0 .827.133a11.777 11.777 0 0 1 6.173.001a1.005 1.005 0 0 0 .83-.138a7.572 7.572 0 0 1 2.406-1.19a4.04 4.04 0 0 1 .087 1.578a3.205 3.205 0 0 1-.169.607a1 1 0 0 0 .188 1.025c.078.087.155.18.224.268A4.122 4.122 0 0 1 20 9.203a7.039 7.039 0 0 1-.038.777c-.22 3.056-1.725 4.464-5.195 4.86a1 1 0 0 0-.546 1.746a1.63 1.63 0 0 1 .466.908a3.06 3.06 0 0 1 .093.82v2.333c-.01.648-.01 1.133-.01 1.356a1 1 0 1 0 2 0c0-.217 0-.692.01-1.34v-2.35a4.882 4.882 0 0 0-.155-1.311a4.256 4.256 0 0 0-.116-.416a6.513 6.513 0 0 0 5.445-6.424A8.697 8.697 0 0 0 22 9.203a6.13 6.13 0 0 0-1.263-3.826'/></svg></div></a><!--]--></div></div></div></div><div class="post-wrapper"><div class="post-title"><h1>正在做一个OB主题</h1></div><div class="post-info"><div class="post-date"><span>2023年7月8日</span></div><div class="post-reading-info"><span class="post-reading-time">约8分钟</span><span class="post-word-count">1791字</span></div></div><div style="position:relative;" class="content-wrapper" id="content"><div><p>虽然在我认识的人里面用 Obsidian 的寥寥无几，但是还是想记录一下最近在干的事情。</p><hr><nav class="table-of-contents"><ul><li><a href="#metion——初识-markdown">metion——初识 Markdown</a></li><li><a href="#marktext——初识-css">MarkText——初识 CSS</a></li><li><a href="#obsidian——now-we-re-talking">Obsidian——NOW WE&#39;RE TALKING</a></li><li><a href="#投身主题开发">投身主题开发</a></li></ul></nav><p>为什么突然想到自己做一个 theme 呢？</p><h2 id="metion——初识-markdown" tabindex="-1">metion——初识 Markdown <a class="header-anchor" href="#metion——初识-markdown">¶</a></h2><p>我用 <a href="https://obsidian.md/" target="_blank" rel="noreferrer">Obsidian</a> 快一年了，但是第一次接触它是在高考完的暑假。当时通过 <a href="https://apps.apple.com/cn/app/metion-%E4%B8%AD%E6%96%87%E5%86%99%E4%BD%9C%E8%80%85%E7%9A%84%E7%AC%94%E8%AE%B0%E5%B7%A5%E5%85%B7/id1530965242" target="_blank" rel="noreferrer">metion</a>（由于没找到官网所以放了 App Store 的链接）第一次接触到 <em>Markdown</em>，心想文本编辑还能这么玩？</p><p><img src="/assets/metion-for-mac-ui.MUpao5C8.png" alt="metion Mac 版的 UI"></p><blockquote><p>metion 宣传为「<u>颜值高也好用，懂中文也懂 Markdown</u>」。它的确成功地为中文写作进行了很大程度的优化：它支持在中英文字词之间自动添加空格；它支持中文的词性分析；它使用左右 shift 键能够在不切换输入法的情况下键入不同的符号（如对于中文的左书名号键，使用 <code>左shift</code> 能够键入 <code>《</code> ，而使用 <code>右shift</code> 能够键入 <code>&gt;</code> ）；它支持将文本直接导出为公众号格式（懒得调格式的公众号作者福音）……</p></blockquote><p>在那之后，我陷入了一阵对 Markdown 的狂热。我在 iPad 上下载了一大批支持 Markdown 的笔记软件，其中就包括 <strong>Obsidian</strong>。但是当时由于不太会用，加上 iPadOS 端的 Obsidian 还存在一些 bug，导致当时<strong>没有能够成功使用</strong>。其他的诸如 <a href="https://bear.app/cn/" target="_blank" rel="noreferrer">Bear</a>、 <a href="https://www.notion.so/product?fredir=1" target="_blank" rel="noreferrer">Notion</a>、 <a href="https://agenda.com" target="_blank" rel="noreferrer"><em>Aganda</em></a>（严格意义上来说不算<strong>笔记</strong>软件）、 <a href="https://www.mweb.im/cn/index.html" target="_blank" rel="noreferrer">MWeb</a> 等等，我都进行了一定程度的体验。它们都是合格的 Markdown 编辑器，只是<u>我口味比较刁</u>。所以在一番尝试之后，我暂时还是用着 iPad 上的 metion 作为码字工具。</p><h2 id="marktext——初识-css" tabindex="-1">MarkText——初识 CSS <a class="header-anchor" href="#marktext——初识-css">¶</a></h2><p>metion 在很长一段时间内是我的主力写作工具，公众号前期的文章也都是用 metion 直接导出的格式。后来由于转战 Windows 平台，我又开始了一波试用和筛选，尝试了 <a href="https://typora.io/#download" target="_blank" rel="noreferrer">Typora</a>、 <a href="https://www.effie.co" target="_blank" rel="noreferrer">Effie</a>、 <a href="https://www.zybuluo.com/cmd/" target="_blank" rel="noreferrer">CMD Markdown</a> 等软件。后来由于 <u>Typora 收费与不开源</u>、<u>Effie 对 Markdown 的不完整的支持</u>、<u>CMD Markdown 不支持即时渲染</u>等原因，我选择了一款号称 <strong>Typora 平替</strong>的<strong>开源免费</strong>Markdown 编辑器： <a href="https://github.com/marktext/marktext" target="_blank" rel="noreferrer">MarkText</a>。</p><p>作为一个免费的软件，MarkText 几乎是超出了我的预期。在将近半年的使用中，我感到相当的舒适。在主要的编辑功能中，它与 Typora 基本无异，至少我没发现什么特别残缺的功能与特别恶性的 bug。但是由于<u>失去了 metion 的「导出为公众号格式」</u>，我需要折腾文章的格式的再复制上去。这个时期我用到了两个 Markdown 转公众号格式的网页来帮我进行格式化： <a href="http://md.aclickall.com" target="_blank" rel="noreferrer">Md2All</a> 和 <a href="https://md.openwrite.cn" target="_blank" rel="noreferrer">openwrite</a>。Generally speaking，后者的默认格式更符合我的审美，但是其缺少了对部分 Markdown 语法的支持，如使用 <code>[TOC]</code> 来生成一个 TOC 的功能。所以在后期，我放弃了 openwrite，<strong>被迫</strong>学习了一部分 CSS 知识，用于在 Md2All 里对样式、排版等进行设计。</p><p><img src="/assets/css-in-md2all.kWhkHMbf.png" alt="Md2All 里的 CSS 片段"></p><h2 id="obsidian——now-we-re-talking" tabindex="-1">Obsidian——NOW WE&#39;RE TALKING <a class="header-anchor" href="#obsidian——now-we-re-talking">¶</a></h2><p>MarkText 说到底只是<strong>编辑器</strong>，而随着对笔记体系的逐渐完善，我开始产生对更高维度的功能的需求。恰逢此时，我接触到了 <em>Zettelkasten</em>。</p><blockquote><p><a href="https://en.wikipedia.org/wiki/Zettelkasten" target="_blank" rel="noreferrer">Zettelkasten</a> 是德国社会学家 Niklas Luhmann 提出的概念，翻译成英语就是 Box of Notes，也即<strong>卡片盒笔记法</strong>，在这里不进行过多解释，感兴趣的朋友可以自己去了解。Obsidian 的理念与 Zettelkasten 非常兼容，它提供了<strong>双向链接</strong>、<strong>图谱视图</strong>、<strong>tag</strong>和<strong>搜索</strong>等功能，便于创建、连接和浏览笔记，从而建立<strong>知识网络</strong>并使其逐渐丰富。</p></blockquote><p>也正是这个时候，我开始<strong>正式地</strong>使用上了 Obsidian。不得不说，在接近两个学期的使用中，它确实为我提供了极大的帮助。虽然在初期，由于<u>插件社区</u>和<u>主题社区</u>生态过于优秀，我陷入过一阵疯狂捣鼓插件和主题的时期，不过后来由于精力不足，加之我逐渐了「形式主义」，便退烧了。</p><p><img src="/assets/theme-store-obsidian.Kid3x2XS.png" alt="Obsidian 的插件市场"></p><h2 id="投身主题开发" tabindex="-1">投身主题开发 <a class="header-anchor" href="#投身主题开发">¶</a></h2><p>退烧归退烧，<strong>需求</strong>还是有的。但我始终感觉用别人做的东西不太舒服。制作者毕竟很难无微不至地考虑到每一个客户端的需求。在刚萌生开发主题这个想法的时候，我的策略是<u>对已有的、相对较完善的主题 CSS 进行修改</u>，基于 <a href="https://github.com/mgmeyers/obsidian-style-settings" target="_blank" rel="noreferrer">Style Settings</a> 插件对其提供的设置接口进行调整，并增加我认为重要的、常用的设置选项。</p><p><img src="/assets/change-based-on-serenity.V41okaRO.png" alt="基于 Serenity 主题进行修改的过程"></p><p>但是在一段时间后，我发现这样的方式极度依赖于原作者的代码，导致我对代码的理解能力与几乎没有进步，操作流程基本上是<u>注掉、看区别、适当修改</u>，效率极低且没有收益。所以再三思考后还是决定自己从头开始写一个，也当作学前端了。</p><p><img src="/assets/writing-css.Fv-8VRRD.png" alt="test.css"></p><p>目前整个开发还处于很前期的阶段，除了提供了一些配色更改的设置、对一些内置样式如 <strong>strong</strong>、<em>emphasis</em>、<mark>highlight</mark> 进行了修改之外，UI 的美化、其他元素（ol、il、code、callout 等）的样式设计、文章排版之类的任务还暂时没有进行。不过问题不大，早晚而已。</p><p>前两天在 puq 发的那个「调查」，就是由于我发现在中文编辑中，<strong>斜体</strong> <em>italic</em> 的应用面似乎很窄，所以在考虑要不要弃用掉 italic 的设计而将 em 元素应用其他的样式。还在思考中。</p><hr><p>这次扯得有点多。希望下次能少扯点。</p></div></div><div class="content-footer"><div class="last-updated"><span>最后更新于</span><span>2023年7月8日 22:06</span></div><div class="related-posts"><div class="related-posts-container"><div class="related-post"><div class="related-post-title">上一篇：</div><a href="/blog/nagging.html">碎碎念</a></div><div class="related-post"><div class="related-post-title">下一篇：</div><a href="/blog/basics-of-prompting.html">Prompt 入门</a></div></div></div></div></div><footer class="footer"><p xmlns:cc="http://creativecommons.org/ns#" xmlns:dct="http://purl.org/dc/terms/"><a property="dct:title" rel="cc:attributionURL" href="https://fro-q.github.io/">Fro-Blo</a> by <a rel="cc:attributionURL dct:creator" property="cc:attributionName" href="https://github.com/Fro-Q">FroQ</a> is licensed under <a href="http://creativecommons.org/licenses/by-nc-sa/4.0/?ref=chooser-v1" target="_blank" rel="license noopener noreferrer" style="display:inline-block;">CC BY-NC-SA 4.0<img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/cc.svg?ref=chooser-v1"><img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/by.svg?ref=chooser-v1"><img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/nc.svg?ref=chooser-v1"><img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/sa.svg?ref=chooser-v1"></a></p></footer><button id="back-to-top" title="Back to top"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-up"><line x1="12" y1="19" x2="12" y2="5"></line><line x1="5" y1="12" x2="12" y2="5"></line><line x1="19" y1="12" x2="12" y2="5"></line></svg></button><!--]--></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"blog_nagging.md\":\"-qKmxXxn\",\"blog_making-obsidian-theme.md\":\"5rl2zwHk\",\"blog_basics-of-prompting.md\":\"HgJLc_fq\",\"blog_need-time.md\":\"_DsDeftf\",\"blog_long-time-no-see.md\":\"vr5yXWPj\",\"index.md\":\"aXp9RDKN\",\"blog_template_blog-tmp.md\":\"I-ThjgQZ\",\"blog_what-is-prompt.md\":\"bt-9ZAfv\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"zh-CN\",\"dir\":\"ltr\",\"title\":\"FroQ\",\"description\":\"Write Something\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"email\":\"qingzhengye@outlook.com\",\"github\":\"https://github.com/Fro-Q\",\"socialLinks\":[{\"icon\":{\"svg\":\"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" viewBox=\\\"0 0 448 512\\\"><title>RSS</title><path d=\\\"M400 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V80c0-26.51-21.49-48-48-48zM112 416c-26.51 0-48-21.49-48-48s21.49-48 48-48s48 21.49 48 48s-21.49 48-48 48zm157.533 0h-34.335c-6.011 0-11.051-4.636-11.442-10.634c-5.214-80.05-69.243-143.92-149.123-149.123c-5.997-.39-10.633-5.431-10.633-11.441v-34.335c0-6.535 5.468-11.777 11.994-11.425c110.546 5.974 198.997 94.536 204.964 204.964c.352 6.526-4.89 11.994-11.425 11.994zm103.027 0h-34.334c-6.161 0-11.175-4.882-11.427-11.038c-5.598-136.535-115.204-246.161-251.76-251.76C68.882 152.949 64 147.935 64 141.774V107.44c0-6.454 5.338-11.664 11.787-11.432c167.83 6.025 302.21 141.191 308.205 308.205c.232 6.449-4.978 11.787-11.432 11.787z\\\" fill=\\\"currentColor\\\"></path></svg>\"},\"link\":\"https://fro-q.github.io/feed.rss\",\"ariaLabel\":\"RSS\"},{\"ariaLabel\":\"GitHub\",\"icon\":{\"svg\":\"<svg viewBox='0 0 24 24' display='block' height='1.2em' width='1.2em' xmlns='http://www.w3.org/2000/svg' ><path fill='currentColor' d='M10.07 20.503a1 1 0 0 0-1.18-.983c-1.31.24-2.963.276-3.402-.958a5.708 5.708 0 0 0-1.837-2.415a1.2 1.2 0 0 1-.167-.11a1 1 0 0 0-.93-.645h-.005a1 1 0 0 0-1 .995c-.004.815.81 1.338 1.141 1.514a4.44 4.44 0 0 1 .924 1.36c.365 1.023 1.423 2.576 4.466 2.376l.003.098l.004.268a1 1 0 0 0 2 0l-.005-.318c-.005-.19-.012-.464-.012-1.182M20.737 5.377a5.39 5.39 0 0 0 .09-.42a6.278 6.278 0 0 0-.408-3.293a1.002 1.002 0 0 0-.615-.58c-.356-.12-1.67-.357-4.184 1.25a13.87 13.87 0 0 0-6.354 0C6.762.75 5.455.966 5.102 1.079a.997.997 0 0 0-.631.584a6.3 6.3 0 0 0-.404 3.357c.025.127.051.246.079.354a6.27 6.27 0 0 0-1.256 3.83a8.422 8.422 0 0 0 .043.921c.334 4.603 3.334 5.984 5.424 6.459a4.591 4.591 0 0 0-.118.4a1 1 0 0 0 1.942.479a1.678 1.678 0 0 1 .468-.878a1 1 0 0 0-.546-1.745c-3.454-.395-4.954-1.802-5.18-4.899a6.61 6.61 0 0 1-.033-.738a4.258 4.258 0 0 1 .92-2.713a3.022 3.022 0 0 1 .195-.231a1 1 0 0 0 .188-1.025a3.388 3.388 0 0 1-.155-.555a4.094 4.094 0 0 1 .079-1.616a7.543 7.543 0 0 1 2.415 1.18a1.009 1.009 0 0 0 .827.133a11.777 11.777 0 0 1 6.173.001a1.005 1.005 0 0 0 .83-.138a7.572 7.572 0 0 1 2.406-1.19a4.04 4.04 0 0 1 .087 1.578a3.205 3.205 0 0 1-.169.607a1 1 0 0 0 .188 1.025c.078.087.155.18.224.268A4.122 4.122 0 0 1 20 9.203a7.039 7.039 0 0 1-.038.777c-.22 3.056-1.725 4.464-5.195 4.86a1 1 0 0 0-.546 1.746a1.63 1.63 0 0 1 .466.908a3.06 3.06 0 0 1 .093.82v2.333c-.01.648-.01 1.133-.01 1.356a1 1 0 1 0 2 0c0-.217 0-.692.01-1.34v-2.35a4.882 4.882 0 0 0-.155-1.311a4.256 4.256 0 0 0-.116-.416a6.513 6.513 0 0 0 5.445-6.424A8.697 8.697 0 0 0 22 9.203a6.13 6.13 0 0 0-1.263-3.826'/></svg>\"},\"link\":\"https://github.com/Fro-Q\"}]},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>